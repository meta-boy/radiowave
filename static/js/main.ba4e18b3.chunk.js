(this.webpackJsonpradiovave=this.webpackJsonpradiovave||[]).push([[0],[,,,,function(e,t,n){e.exports=n(11)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a,i,r,o,d,u,c,m,l,s=n(0),f=n.n(s),v=n(3),h=n.n(v),y=(n(9),n(1)),g=(n(10),[{name:"Radiorecord.ru",link:"https://air.radiorecord.ru:805/synth_320"},{name:"Nightride.fm",link:"https://stream.nightride.fm/nightride.m4a"},{name:"Synthwave.hu",link:"https://ecast.myautodj.com/public1channel"},{name:"Laut.fm",link:"https://nightdrive.stream.laut.fm/nightdrive"}]),w=!1,x={x:0,y:0},E=[],p=[];function b(e,t,n,a,i,r){var o=4*(e+t*m.width);l[o]=n,l[o+1]=a,l[o+2]=i,l[o+3]=r}function k(e,t,n,a,i,d,u,c){for(var m=Math.abs(n-e),l=Math.abs(a-t),s=e<n?1:-1,f=t<a?1:-1,v=m-l,h=e,y=t;h>0&&h<r&&y>0&&y<o&&b(h,y,i,d,u,c),h!==n||y!==a;){var g=2*v;g>-m&&(v-=l,h+=s),g<l&&(v+=m,y+=f)}}function z(e,t,n,a){var i={};return i.x=e,i.y=t,i.z=n,i.x2d=0,i.y2d=0,i.index=a,i}function S(e,t){for(var n=8,a=-250;a<250;a+=5){for(var i=[],r=-250;r<250;r+=5){var o=z(r,t>0?5*Math.random()+10:5*Math.random()-10,a,n);i.push(o),++n>512&&(n=8)}e.push(i)}}function A(){r=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,o=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,d={x:r/2,y:o/2},u.width=r,u.height=o,c.fillStyle="#000000",c.fillRect(0,0,r,o),m=c.getImageData(0,0,r,o),l=m.data}function L(e){a.paused?a.play():a.pause()}function M(e){w=!0}function O(e){w=!1,x.x=r/2}function j(e){x=function(e,t){var n=e.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top}}(u,e)}function C(){var e;i&&(e=new Uint8Array(i.frequencyBinCount),i.getByteFrequencyData(e));for(var t=!1,n=0,a=E.length;n<a;n++){var r=E[n],o=void 0;n>0&&(o=E[n-1]);for(var c=0,m=r.length;c<m;c++){var l=r[c],s=250/(250+l.z);if(l.x2d=l.x*s+d.x,l.y2d=l.y*s+d.y,l.z-=.5,i){var f=e[l.index]/10;l.y=f+10}l.z<-250&&(l.z+=500,t=!0);var v=void 0;if(c>0){var h=r[c-1];v=Math.round(n/a*155),k(0|l.x2d,0|l.y2d,0|h.x2d,0|h.y2d,0,v,0,255)}if(n>0&&n<a-1){var y=o[c];k(0|l.x2d,0|l.y2d,0|y.x2d,0|y.y2d,0,v,0,255)}}}t&&(E=E.sort((function(e,t){return t[0].z-e[0].z})));for(var g=0,b=p.length;g<b;g++){var z=p[g],S=void 0;g>0&&(S=p[g-1]);for(var A=0,L=z.length;A<L;A++){var M=z[A],O=250/(250+M.z);if(M.x2d=M.x*O+d.x,M.y2d=M.y*O+d.y,M.z-=.5,i){var j=e[M.index]/10;M.y=-j-10}M.z<-250&&(M.z+=500,t=!0);var C=void 0;if(A>0){var q=z[A-1];C=Math.round(g/b*255),k(0|M.x2d,0|M.y2d,0|q.x2d,0|q.y2d,0,Math.round(C/2),C,255)}if(g>0&&g<b-1){var F=S[A];k(0|M.x2d,0|M.y2d,0|F.x2d,0|F.y2d,0,Math.round(C/2),C,255)}}}t&&(p=p.sort((function(e,t){return t[0].z-e[0].z}))),d.x+=w?.015*(x.x-d.x):.015*(u.width/2-d.x)}function q(){!function(){for(var e=0,t=l.length;e<t;e+=4)l[e]=0,l[e+1]=0,l[e+2]=0,l[e+3]=255}(),C(),c.putImageData(m,0,0),requestAnimationFrame(q)}window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};var F=function(){(u=document.createElement("canvas")).addEventListener("mousedown",L,!1),u.addEventListener("mousemove",j,!1),u.addEventListener("mouseenter",M,!1),u.addEventListener("mouseleave",O,!1),document.body.appendChild(u),c=u.getContext("2d"),window.addEventListener("resize",A),A(),S(E,1),S(p,-1),C(),c.putImageData(m,0,0),function(){(a=document.getElementById("audio")).crossOrigin="anonymous";var e=new(window.AudioContext||window.webkitAudioContext);(i=e.createAnalyser()).connect(e.destination),i.smoothingTimeConstant=.75,i.fftSize=16384,e.createMediaElementSource(a).connect(i)}(),q()};var I=function(){var e=Object(s.useState)(g[0].link),t=Object(y.a)(e,2),n=t[0],a=t[1],i=Object(s.useState)(!0),r=Object(y.a)(i,2),o=r[0],d=r[1];return Object(s.useEffect)((function(){F()}),[]),Object(s.useEffect)((function(){var e=JSON.parse(localStorage.getItem("streamLink"));e&&a(e)}),[]),Object(s.useEffect)((function(){localStorage.setItem("streamLink",JSON.stringify(n))}),[n]),f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:"gif"},f.a.createElement("h1",null,"\u3010\uff52\uff41\uff44\uff49\uff4f\uff57\uff41\uff56\uff45\u3011"),f.a.createElement("p",null,"A minimal synthwave radio"),f.a.createElement("audio",{controls:!0,autoPlay:!0,onLoadStart:function(){return d(!0)},onLoadedData:function(){return d(!1)},onError:function(){return a(g[1].link)},src:n,id:"audio"}),f.a.createElement("div",{className:"stream-btns"},g.map((function(e,t){return f.a.createElement("button",{key:t,className:"btn ".concat(n===e.link&&"active"),onClick:function(){return a(e.link)}},e.name)})))),o&&f.a.createElement("div",{className:"lds-dual-ring"}))};h.a.render(f.a.createElement(f.a.StrictMode,null,f.a.createElement(I,null)),document.getElementById("root"))}],[[4,1,2]]]);
//# sourceMappingURL=main.ba4e18b3.chunk.js.map